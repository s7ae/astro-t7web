---
interface Props {
  currentPage?: string;
}
const { currentPage = '/' } = Astro.props;
const navItems = [
  { href: '/', label: '首页' },
  { href: '/projects', label: '项目' },
  { href: '/team', label: '鸣谢' },
  { href: '/contact', label: '联系我们' },
];
---

<nav class="nav" id="navbar">
  <div class="nav-glow"></div>
  <div class="container nav-inner">
    <a href="/" class="nav-logo">
      <span class="nav-logo-text">s7ae</span>
      <span class="nav-logo-dot"></span>
    </a>
    <ul class="nav-links">
      {navItems.map((item) => (
        <li>
          <a 
            href={item.href} 
            class:list={['nav-link', { active: currentPage === item.href }]}
          >
            <span class="nav-link-text">{item.label}</span>
            <span class="nav-link-indicator"></span>
          </a>
        </li>
      ))}
    </ul>
  </div>
</nav>

<script is:inline>
  const navbar = document.getElementById('navbar');
  const navGlow = document.querySelector('.nav-glow');
  
  if (navbar) {
    // 滚动效果
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });
    
    // 鼠标跟随光效
    navbar.addEventListener('mousemove', (e) => {
      const rect = navbar.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      
      if (navGlow) {
        navGlow.style.setProperty('--mouse-x', `${x}px`);
        navGlow.style.setProperty('--mouse-y', `${y}px`);
      }
    });
  }
</script>
